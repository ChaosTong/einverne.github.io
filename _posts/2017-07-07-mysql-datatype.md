---
layout: post
title: "MySQL 数据类型"
tagline: ""
description: ""
category: 学习笔记
tags: [linux, mysql, sql,]
last_updated: 
---

了解并熟悉 MySQL 中的数据类型，对建表和数据库优化都非常重要。 MySQL 实现了 SQL 定义的类型，也响应的增加乐意 tiny, small, big 的类型。 MySQL 的数据类型主要分成三个部分：
 
- Numeric Type 数值型
- Date and Time Type 日期和时间
- String Type 字符型

更多的内容可以在[官网](https://dev.mysql.com/doc/refman/5.7/en/data-types.html) 查到。

## 整型



**MySQL数据类型**|**大小**|**范围（有符号）**
----------|------|------
TINYINT(m) |1字节|范围(-128~127)
SMALLINT(m)|2个字节 |范围(-32768~32767)
MEDIUMINT(m)|3个字节|范围(-8388608~8388607)
INT(m)|4个字节|范围 2^31-1(-2147483648~2147483647)
BIGINT(m)|8个字节 |范围 2^63-1(+-9.22*10的18次方)

取值范围如果加了unsigned (无符号)，则最大值翻倍，如 TINYINT unsigned 的取值范围为(0~256)。 
INT(m)里的m是表示SELECT查询结果集中的显示宽度，并不影响实际的取值范围，没有影响到显示的宽度，不知道这个m有什么用。

## 浮点型(float和double)

MySQL数据类型|大小|含义
-----|--|---
float(m,d)|4字节|单精度浮点型    8位精度(4字节)        m总个数，d小数位
double(m,d)|8字节 |双精度浮点型    16位精度(8字节)       m总个数，d小数位


设一个字段定义为float(5,3)，如果插入一个数123.45678,实际数据库里存的是123.457，但总个数还以实际为准，即6位。



## 定点数

浮点型在数据库中存放的是近似值，而定点类型在数据库中存放的是精确值。 
decimal(m,d) 参数m<65 是总个数，d<30且 d<m 是小数位。


## 字符串(char,varchar,text)

MySQL数据类型|大小|  含义
-----|--------------|--
char(n)| 	0-255字节|固定长度，最多255个字符
varchar(n)|0-65535 字节	|固定长度，最多65535个字符
tinytext|0-255字节	|可变长度，最多255个字符
text|0-65 535字节	|可变长度，最多65535个字符
mediumtext|0-16 777 215字节	|可变长度，最多2的24次方-1个字符
longtext|0-4 294 967 295字节|可变长度，最多2的32次方-1个字符


char和varchar：

1. char(n) 若存入字符数小于n，则以空格补于其后，查询之时再将空格去掉。所以char类型存储的字符串末尾不能有空格，varchar不限于此。 
2. char(n) 固定长度，char(4)不管是存入几个字符，都将占用4个字节，varchar是存入的实际字符数+1个字节（n<=255）或2个字节(n>255)，所以varchar(4),存入3个字符将占用4个字节。 
3. char类型的字符串检索速度要比varchar类型的快。

varchar和text： 

1. varchar可指定n，text不能指定，内部存储 varchar 是存入的实际字符数+1个字节（n<=255）或2个字节(n>255)，text 是实际字符数+2个字节。 
2. text类型不能有默认值。 
3. varchar可直接创建索引，text创建索引要指定前多少个字符。varchar查询速度快于text,在都创建索引的情况下，text的索引似乎不起作用。

## 二进制数据(Blob)

1. BLOB和 TEXT 存储方式不同，TEXT以文本方式存储，英文存储区分大小写，而Blob是以二进制方式存储，不分大小写。 
2. BLOB存储的数据只能整体读出。 
3. TEXT可以指定字符集，BLOB不用指定字符集。

数据类型|大小|用途
-----|-----|-----
TINYBLOB|0~255字节|不超过 255 个字符二进制字符串
BLOB|0~65535 字节|二进制
MEDIUMBLOB|0-16 777 215字节|二进制形式的中等长度文本数据
LONGBLOB|0-4 294 967 295字节|二进制形式的极大文本数据


## 日期和时间类型


MySQL数据类型|大小   |范围|             含义
-----|------------|-----------------------|------------
date|3字节        |1000-01-01/9999-12-31 |日期 '2008-12-2'
time|3字节        |'-838:59:59'/'838:59:59' |时间 '12:25:36'
datetime|8字节    |1000-01-01 00:00:00/9999-12-31 23:59:59	|日期时间 '2008-12-2 22:06:44'
timestamp|4字节   |1970-01-01 00:00:00/2037 年某时	|自动存储记录修改时间

每个时间类型有一个有效值范围和一个"零"值，当指定不合法的MySQL不能表示的值时使用"零"值。
若定义一个字段为timestamp，这个字段里的时间数据会随其他字段修改的时候自动刷新，所以这个数据类型的字段可以存放这条记录最后被修改的时间。



## 数据类型的属性

MySQL关键字|含义
-----|-----
NULL|数据列可包含NULL值
NOT NULL|数据列不允许包含NULL值
DEFAULT|默认值
PRIMARY KEY|主键
AUTO\_INCREMENT|自动递增，适用于整数类型
UNSIGNED|无符号
CHARACTER SET name|指定一个字符集





